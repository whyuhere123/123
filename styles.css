:root{
  --bg:#1f2226; --bg-soft:#1a1d21; --bg-elev:#181b1f;
  --text:#e7eaf0; --muted:#9aa2b2; --border:#2b2f36;
  --brand1:#5792ff; --brand2:#8b5cf6;
  --ok:#22c55e; --warn:#f59e0b; --err:#ef4444;
  --r:16px; --shadow:0 18px 40px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font:15px/1.55 Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
img{display:block;max-width:100%}
button{font:inherit;cursor:pointer}
.container{width:min(1120px,92%);margin:0 auto}
.muted{color:var(--muted)}
/* header */
.site-header{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,rgba(26,29,33,.9),rgba(26,29,33,.85));backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
.nav-wrap{min-height:56px;display:flex;align-items:center;justify-content:space-between}
.brand{font-weight:900; letter-spacing:.2px; font-size:20px}
.gradient-text{background:linear-gradient(90deg,var(--brand1),var(--brand2));-webkit-background-clip:text;background-clip:text;color:transparent}
.hdr-actions{display:flex;align-items:center;gap:10px}
.hdr-btn{position:relative;display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border:1px solid var(--border);border-radius:12px;color:#fff;background:transparent}
.hdr-btn svg{width:20px;height:20px}
.badge{position:absolute;right:-6px;top:-6px;min-width:18px;height:18px;padding:0 5px;border-radius:999px;display:inline-grid;place-items:center;font-size:11px;color:#fff;background:#ef4444;border:1px solid rgba(0,0,0,.25)}
/* main */
.main{padding:12px 0 96px}
.section{margin-bottom:16px}
.section-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.section-title{font-size:17px;font-weight:900;margin:0}
.chip{padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:transparent;color:#fff}
/* rails */
.rail{display:flex;gap:10px;overflow-x:auto;scroll-snap-type:x mandatory;padding:4px 4px 8px; -webkit-overflow-scrolling:touch}
.rail::-webkit-scrollbar{display:none}
.rail > *{scroll-snap-align:start}
/* hero */
.hero-rail .hero-card{
  min-width: min(92%, 540px);
  border-radius:20px; overflow:hidden; border:1px solid var(--border);
  background:linear-gradient(180deg,var(--bg-soft),var(--bg-elev)); box-shadow:var(--shadow);
  position:relative;
}
.hero-card img{width:100%;height:100%;object-fit:cover;aspect-ratio:16/10}
.hero-card .overlay{position:absolute;inset:auto 10px 10px 10px;display:flex;gap:8px}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:linear-gradient(135deg,#3b3f46,#6b7280);color:#fff}
.btn:disabled{opacity:.6;cursor:not-allowed}
/* product card */
.product-card{position:relative;min-width:170px;border:1px solid var(--border);border-radius:14px;background:linear-gradient(180deg,var(--bg-soft),var(--bg-elev));box-shadow:var(--shadow);overflow:hidden}
.product-card .thumb{width:100%;aspect-ratio:1/1;object-fit:cover;background:#0f1013}
.product-card .body{padding:10px;display:flex;flex-direction:column;gap:8px}
.product-card .title{font-weight:700;font-size:14px;min-height:2.2em}
.row{display:flex;align-items:center;justify-content:space-between;gap:8px}
.price-chip{font-weight:900;padding:6px 10px;border-radius:10px;color:#fff;background:linear-gradient(135deg,var(--brand1),var(--brand2))}
.old-mini{text-decoration:line-through;color:#c9cbd3;font-size:12px;margin-left:8px}
.disc-badge{position:absolute;left:8px;top:8px;z-index:2;background:linear-gradient(135deg,#ef4444,#f97316);color:#fff;border-radius:999px;padding:4px 8px;font-size:12px;border:1px solid rgba(0,0,0,.25)}
.top-actions{position:absolute;top:8px;right:8px;display:flex;gap:6px;z-index:2}
.btn-icon{width:34px;height:34px;border-radius:10px;border:1px solid var(--border);display:grid;place-items:center;background:rgba(0,0,0,.2);color:#fff}
.btn-icon svg{width:16px;height:16px}
.btn-icon.favorite-btn.active{background:#ff6b6b;border-color:#ff6b6b}
/* category item */
.category-card{position:relative;min-width:160px;border:1px solid var(--border);border-radius:14px;background:linear-gradient(180deg,var(--bg-soft),var(--bg-elev));overflow:hidden}
.category-card img{width:100%;aspect-ratio:1/1;object-fit:cover}
.category-card .title{position:absolute;left:8px;bottom:8px;padding:6px 10px;border-radius:10px;background:rgba(0,0,0,.35);backdrop-filter:blur(3px);font-weight:700}
/* tabbar */
.tabbar{position:fixed;left:0;right:0;bottom:0;z-index:60;background:linear-gradient(180deg,rgba(26,29,33,.88),rgba(26,29,33,.88));backdrop-filter:blur(8px);border-top:1px solid var(--border);padding:6px max(8px,env(safe-area-inset-left)) calc(6px + env(safe-area-inset-bottom)) max(8px,env(safe-area-inset-right));display:grid;grid-template-columns:repeat(6,1fr);gap:4px}
.tabbar-link{position:relative;display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px 4px;border-radius:12px;border:1px solid transparent;background:transparent;color:var(--muted)}
.tabbar-link svg{width:22px;height:22px}
.tabbar-link.active{color:#fff;background:rgba(255,255,255,.06);border-color:rgba(255,255,255,.12)}
.tabbar-link .badge{position:absolute;right:10px;top:6px}
/* bg canvas */
.bg-net{position:fixed;inset:0;z-index:0;pointer-events:none;width:100vw;height:100vh;filter:saturate(.9) brightness(.9)}
@media (max-width:480px){
  .product-card{min-width:160px}
  .hero-rail .hero-card{min-width:92%}
}